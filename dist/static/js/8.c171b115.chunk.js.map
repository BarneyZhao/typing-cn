{"version":3,"sources":["views/test/beep.mp3","views/test/Test.tsx"],"names":["module","exports","Test","useState","key","setKey","keyDesc","setKeyDesc","audioRef","useRef","useEffect","length","toLocaleUpperCase","className","onKeyDown","evt","current","currentTime","pause","setTimeout","play","preventDefault","stopPropagation","src","beepMp3","ref","preload"],"mappings":"uHAAAA,EAAOC,QAAU,IAA0B,kC,wGC+C5BC,UAzCQ,WAAO,IAAD,EACHC,mBAAS,IADN,mBAClBC,EADkB,KACbC,EADa,OAEKF,mBAAS,IAFd,mBAElBG,EAFkB,KAETC,EAFS,KAGnBC,EAAWC,iBAAO,MA2BxB,OAZAC,qBAAU,WACM,KAARN,EACAG,EAAW,kCACI,MAARH,EACPG,EAAW,SACW,IAAfH,EAAIO,OACXJ,EAAWH,EAAIQ,qBAEfL,EAAWH,KAEhB,CAACA,IAGA,yBAAKS,UAAU,QACX,kBAAC,IAAD,CAAOA,UAAU,yBAAyBC,UA3BzB,SAACC,GACtBV,EAAOU,EAAIX,KACPI,EAASQ,UACRR,EAASQ,QAAgBC,YAAc,EACvCT,EAASQ,QAAgBE,QAC1BC,YAAW,WACNX,EAASQ,QAAgBI,SAC3B,KAEPL,EAAIM,iBACJN,EAAIO,qBAkBA,yBAAKT,UAAU,cACX,6BAAMP,IAEV,2BAAOiB,IAAKC,IAASC,IAAKjB,EAAUkB,QAAQ","file":"static/js/8.c171b115.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/beep.01fd8a9c.mp3\";","import { Input } from 'antd';\nimport React, { useState, useRef, useEffect } from 'react';\n\nimport './Test.less';\nimport beepMp3 from './beep.mp3';\n\nconst Test: React.FC = () => {\n    const [key, setKey] = useState('');\n    const [keyDesc, setKeyDesc] = useState('');\n    const audioRef = useRef(null);\n\n    const mainInputKeyDown = (evt: React.KeyboardEvent) => {\n        setKey(evt.key);\n        if (audioRef.current) {\n            (audioRef.current as any).currentTime = 0;\n            (audioRef.current as any).pause();\n            setTimeout(() => {\n                (audioRef.current as any).play();\n            }, 50);\n        }\n        evt.preventDefault();\n        evt.stopPropagation();\n    };\n\n    useEffect(() => {\n        if (key === '') {\n            setKeyDesc('点击后输入');\n        } else if (key === ' ') {\n            setKeyDesc('Space');\n        } else if (key.length === 1) {\n            setKeyDesc(key.toLocaleUpperCase());\n        } else {\n            setKeyDesc(key);\n        }\n    }, [key]);\n\n    return (\n        <div className=\"Test\">\n            <Input className=\"home-input Test__input\" onKeyDown={mainInputKeyDown}></Input>\n            <div className=\"Test__desc\">\n                <div>{keyDesc}</div>\n            </div>\n            <audio src={beepMp3} ref={audioRef} preload=\"auto\"></audio>\n        </div>\n    );\n};\n\nexport default Test;\n"],"sourceRoot":""}